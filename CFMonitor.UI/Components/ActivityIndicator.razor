@rendermode InteractiveServer
@attribute [StreamRendering]

<style>
    .busyindicator {
        border: 16px solid #f3f3f3; /* Light grey */
        border-top: 16px solid #3498db; /* Blue */
        border-radius: 50%;
        width: 120px;
        height: 120px;
        animation: spin 2s linear infinite;
        position: fixed;
        top: 50%;
        left: 50%;
    }

    .busyindicatorbusy {
        display: block;
    }

    .busyindicatoridle {
        display: none;
    }

    @@keyframes spin {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }
</style>

<div class="@BusyIndicatorClass"></div>

@code {
    private bool _busy = false;

    [Parameter]

    public bool IsBusy
    {
        get { return _busy; }
        set
        {
            _busy = value;
            BusyIndicatorClass = "busyindicator " + (_busy ? "busyindicatorbusy" : "busyindicatoridle");
        }
    }

    private string BusyIndicatorClass = "busyindicator busyindicatoridle";
}
